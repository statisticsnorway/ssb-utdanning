---

title: Spørreundersøkelsesfunksjoner


keywords: fastai
sidebar: home_sidebar

summary: "Metoder og funksjoner for å behandle spørreundersøkelser"
description: "Metoder og funksjoner for å behandle spørreundersøkelser"
nb_path: "03_sporre.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: 03_sporre.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="avled_tverrvar" class="doc_header"><code>avled_tverrvar</code><a href="https://github.com/statisticsnorway.com/ssb_fellesfunksjoner_360/tree/Merge-nbdev-template/ssb_fellesfunksjoner_360/sporre.py#L9" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>avled_tverrvar</code>()</p>
</blockquote>
<p>Denne funksjonen genererer sjekker en bred range av kode-kolonner, og slår disse sammen til en oppsummeringskolonne.
Forutsetningen er at det er lignende svaralternativer på ulike spørsmål som man skal gå gjennom.
F.eks. 17 spørsmål om fjernsynskanaler, hvor man spør etter 21 ulike programtyper. Og man ønsker å svare på: 'Så denne personen på denne typen program i det hele tatt?'</p>
<h2 id="Parameters">Parameters<a class="anchor-link" href="#Parameters"> </a></h2><p>first : string
    Første parameter er en string som er prefikset til kolonnene, feks. 'fje10_'
second : integer
    Andre parameter er ett tall som sier hvor mange kolonner som er nummerert.
    Om du sender 17 så vil den ta alle tallene som er 1-17 og da lage kolonneheadere som 'fje10_17x'
third : dict
    Det tredje parameteret skal være en dict, som forteller om hvilket svaralternativ skal bli til hvilken nye kolonne.
    feks. 'a' : 'tvsport', hvor svaralternativ 'a' på alle kanaler, skal bli 'eller'-t til en avledet variabelkolonne 'tvsport'
fourt : Pandas Dataframe
    Det fjerde parameteret skal være dataframen som vi opererer på.</p>
<h2 id="Returns">Returns<a class="anchor-link" href="#Returns"> </a></h2><p>DataFrame
    Returnerer dataframen som kom inn, med ny avledet kolonne.</p>
<h2 id="Raises">Raises<a class="anchor-link" href="#Raises"> </a></h2><p>ValueError
    Om noen av variablene inn ikke stemmer med forventede typer.
KeyError
    Om noen av kolonnene det letes i, ikke finnes.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Bruke-funksjonen-med-en-eksisterende-dataframe">Bruke funksjonen med en eksisterende dataframe<a class="anchor-link" href="#Bruke-funksjonen-med-en-eksisterende-dataframe"> </a></h3><p>df = en dataframe som du opererer på</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">codeprefix</span> <span class="o">=</span> <span class="s1">&#39;fje10_&#39;</span>

<span class="c1"># Antall variabler per kode (spørsmål per alternativ)</span>
<span class="n">coderange</span> <span class="o">=</span> <span class="mi">17</span>

<span class="c1"># Hvilke koder til hvilken variabel (om alternativ er valgt på noen i rangen, så skal denne variabelen være sann)</span>
<span class="c1"># Itemene, det som ikke er enkeltbokstaver, blir navnet på kolonnene resultatet skal skrives til.</span>
<span class="n">lettercodes</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;a&#39;</span> <span class="p">:</span> <span class="s1">&#39;tvsport&#39;</span><span class="p">,</span>
    <span class="s1">&#39;b&#39;</span> <span class="p">:</span> <span class="s1">&#39;tvnytt&#39;</span><span class="p">,</span>
    <span class="s1">&#39;c&#39;</span> <span class="p">:</span> <span class="s1">&#39;tvdebat&#39;</span><span class="p">,</span>
    <span class="s1">&#39;d&#39;</span> <span class="p">:</span> <span class="s1">&#39;tvsamfu&#39;</span><span class="p">,</span>
    <span class="s1">&#39;e&#39;</span> <span class="p">:</span> <span class="s1">&#39;tvkultu&#39;</span><span class="p">,</span>
    <span class="s1">&#39;f&#39;</span> <span class="p">:</span> <span class="s1">&#39;tvtekni&#39;</span><span class="p">,</span>
    <span class="s1">&#39;g&#39;</span> <span class="p">:</span> <span class="s1">&#39;tvnatur&#39;</span><span class="p">,</span>
    <span class="s1">&#39;h&#39;</span> <span class="p">:</span> <span class="s1">&#39;tvinfor&#39;</span><span class="p">,</span>
    <span class="s1">&#39;i&#39;</span> <span class="p">:</span> <span class="s1">&#39;tvteate&#39;</span><span class="p">,</span>
    <span class="s1">&#39;j&#39;</span> <span class="p">:</span> <span class="s1">&#39;tvbalet&#39;</span><span class="p">,</span>
    <span class="s1">&#39;k&#39;</span> <span class="p">:</span> <span class="s1">&#39;tvfilm&#39;</span><span class="p">,</span>
    <span class="s1">&#39;l&#39;</span> <span class="p">:</span> <span class="s1">&#39;tvserie&#39;</span><span class="p">,</span>
    <span class="s1">&#39;m&#39;</span> <span class="p">:</span> <span class="s1">&#39;tvpopmu&#39;</span><span class="p">,</span>
    <span class="s1">&#39;n&#39;</span> <span class="p">:</span> <span class="s1">&#39;tvsermu&#39;</span><span class="p">,</span>
    <span class="s1">&#39;o&#39;</span> <span class="p">:</span> <span class="s1">&#39;tvbarn&#39;</span><span class="p">,</span>
    <span class="s1">&#39;p&#39;</span> <span class="p">:</span> <span class="s1">&#39;tvrelig&#39;</span><span class="p">,</span>
    <span class="s1">&#39;q&#39;</span> <span class="p">:</span> <span class="s1">&#39;tvreal&#39;</span><span class="p">,</span>
    <span class="s1">&#39;r&#39;</span> <span class="p">:</span> <span class="s1">&#39;tvkonku&#39;</span><span class="p">,</span>
    <span class="s1">&#39;s&#39;</span> <span class="p">:</span> <span class="s1">&#39;tvunder&#39;</span><span class="p">,</span>
    <span class="s1">&#39;t&#39;</span> <span class="p">:</span> <span class="s1">&#39;tvuspes&#39;</span>
<span class="p">}</span>

<span class="c1"># Kjør funksjonen over med disse innstillingene</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">avled_tverrvar</span><span class="p">(</span><span class="n">codeprefix</span><span class="p">,</span> <span class="n">coderange</span><span class="p">,</span> <span class="n">lettercodes</span><span class="p">,</span> <span class="n">df</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

</div>
 

